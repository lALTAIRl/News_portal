@model IEnumerable<Task2.Models.News>

<h2 align="center">News Collection</h2>

<style>
    body {
        background-color: #edeef0;
    }

    table{
        margin-top:10%;
        background-color:white;
    }

    .control-label{
        align-self:center;
    }

    tr{
        border-style:hidden;
        width:auto;
    }

    .form-control{
        margin-top:3%;
    }

    img {
        width: 80%;
    }

</style>

@if (User.IsInRole("admin"))
{
    <a asp-area="" asp-controller="News" asp-action="CreateNews" class="btn form-control btn-success">Create news</a>
}


@foreach (var news in Model)
{

<table class="table">
    <tr>
        <td align="center">
            <div class="control-label">
                <a asp-action="ViewNews" asp-route-id="@news.Id"><h2>@news.Caption</h2></a>
            </div>
        </td>
    </tr>

    <tr>
        <td align="center">
            @*<img src="~/images/pic1.png">*@
            <img src="@news.ImageURL">
           
        </td>
    </tr>

    @*<tr>
        <td>

            @Html.Raw(news.Text)

        </td>
    </tr>*@

    <tr>
        <td>
            <div class="control-label">
                Created: @news.DateOfCreating
            </div>
        </td>
    </tr>

    @if (User.IsInRole("admin"))
    {
        <tr>
            <td>
                <div class=" btn-toolbar">

                    @*<form asp-action="ViewNews" asp-route-id="@news.Id" method="post">
                        <button type="submit" class="btn btn-sm btn-success">
                            View
                        </button>
                    </form>

                    <form asp-action="EditNews" asp-route-id="@news.Id" method="post">
                        <button type="submit" class="btn btn-sm btn-primary">
                            Edit
                        </button>
                    </form>*@

                    <form asp-action="DeleteNews" asp-route-id="@news.Id" method="post">
                        <button type="submit" class="btn btn-sm btn-danger">
                            Delete
                        </button>
                    </form>


                </div>
            </td>
        </tr>
    }
</table>
 }